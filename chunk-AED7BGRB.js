import{a as ce,b as ue,c as ye,d as Ee}from"./chunk-VCBD6SY4.js";import{a as Fe,b as be,c as Se,d as De,e as ve,f as j,h as xe,i as Pe}from"./chunk-U32OQJF7.js";import"./chunk-BVOGTAIZ.js";import{$ as ke,K as $,L as ge,O as B,P as V,Q as he,R as fe,T as _e,U as z,V as Ce,X as Me,aa as Ge,b as w,ba as we,ca as Te,da as Ie,ea as Ne,fa as Re,g as T,h as I,i as N,k as O,l as me,n as R,o as A,q as L}from"./chunk-SFZZCDKE.js";import{ba as k,d as ae,ia as le,k as se,oa as de,pa as pe,qa as G,sa as S,ta as Oe}from"./chunk-EVD2BUVM.js";import"./chunk-EJJBCPAK.js";import{Ab as p,Ba as J,Bb as C,C as H,Cb as ee,Db as te,Hc as M,Ib as b,K as U,Kb as h,Nb as ie,Sb as re,Tb as u,Ub as x,Vb as oe,Wa as l,_b as P,a as y,b as F,da as f,gb as g,ja as v,lc as ne,mb as Y,o as W,ob as m,qb as E,s as q,ub as K,x as Z,xb as Q,yb as X,zb as d}from"./chunk-WP6F2UKX.js";var Le=(()=>{class o{constructor(){this.label="Rango de fechas",this.appSkeleton=!1}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=v({type:o,selectors:[["app-date-range"]],inputs:{label:"label",appSkeleton:"appSkeleton",dateRangeFormGroup:"dateRangeFormGroup"},standalone:!0,features:[P],decls:10,vars:4,consts:[["picker",""],[3,"formGroup"],["appearance","outline",1,"mat-form-field-width"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","Desde"],["matEndDate","","formControlName","endDate","placeholder","Hasta"],["matSuffix","",3,"for"]],template:function(i,t){if(i&1&&(d(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),u(3),p(),d(4,"mat-date-range-input",3),C(5,"input",4)(6,"input",5),p(),C(7,"mat-datepicker-toggle",6)(8,"mat-date-range-picker",null,0),p()()),i&2){let r=re(9);m("formGroup",t.dateRangeFormGroup),l(3),x(t.label),l(),m("rangePicker",r),l(3),m("for",r)}},dependencies:[M,L,w,T,I,R,A,V,B,$,ge,z,j,Fe,De,be,Se,ve,G,k],styles:[".mat-form-field-width[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}}return o})();var ze=(o,c)=>c.fieldName,je=(o,c)=>c.id;function We(o,c){if(o&1&&(d(0,"mat-form-field",11)(1,"mat-label"),u(2),p(),C(3,"input",12),p()),o&2){let e=h().$implicit,i=h();m("appSkeleton",i.isLoading),l(2),x(e.label),l(),m("formControlName",e.fieldName)}}function qe(o,c){if(o&1&&(d(0,"mat-option",14),u(1),p()),o&2){let e=c.$implicit;m("value",e.id),l(),oe(" ",e.description," ")}}function He(o,c){if(o&1&&(d(0,"mat-form-field",11)(1,"mat-label"),u(2),p(),d(3,"mat-select",13),Q(4,qe,2,2,"mat-option",14,je),p()()),o&2){let e=h().$implicit,i=h();m("appSkeleton",i.isLoading),l(2),x(e.label),l(),m("formControlName",e.fieldName),l(),X(e.selectItems)}}function Ue(o,c){if(o&1&&C(0,"app-date-input",15),o&2){let e=h().$implicit,i=h();m("formControlName",e.fieldName)("label",e.label)("placeholder",e.label)("isDisabled",!1)("appSkeleton",i.isLoading)}}function Je(o,c){if(o&1&&C(0,"app-date-range",16),o&2){let e=h(2).$implicit,i=h();m("dateRangeFormGroup",c)("label",e.label)("appSkeleton",i.isLoading)}}function Ye(o,c){if(o&1&&Y(0,Je,1,3,"app-date-range",16),o&2){let e,i=h().$implicit,t=h();K(0,(e=t.getFormGroupByName(i.fieldName))?0:-1,e)}}function Ke(o,c){if(o&1&&Y(0,We,4,3)(1,He,6,3)(2,Ue,1,5)(3,Ye,1,1),o&2){let e,i=c.$implicit;K(0,(e=i.fieldType)==="text"?0:e==="select"?1:e==="date"?2:e==="dateRange"?3:-1)}}var $e=(()=>{class o{constructor(){this.config=[],this.isLoading=!1,this.emitFilterApplied=new J,this.isCollapsedChange=new J,this.isCollapsed=g(!1)}getFormGroupByName(e){return this.filterForm.get(e)}toggleCollapse(){this.isCollapsed.update(e=>{let i=!e;return this.isCollapsedChange.emit(i),i})}hasActiveFilters(){if(!this.filterForm||!this.config)return!1;let e=this.filterForm.value,i=t=>{if(t==null)return!0;if(typeof t=="string"){let r=t.trim().toLowerCase();if(r===""||r==="all")return!0}return typeof t=="number"&&t===0};for(let t of this.config){let r=t.fieldName,n=e[r];if(t.fieldType!=="dateRange"){if(!i(n))return!0}else{let a=this.getFormGroupByName(r);if(a){let s=a.get("startDate")?.value,_=a.get("endDate")?.value;if(!i(s)||!i(_))return!0}}}return!1}applyFilter(){let e=this.filterForm.value;this.emitFilterApplied.emit(e),this.filterForm.markAsPristine()}clearFilter(){this.filterForm.reset(),this.filterForm.markAsPristine(),this.filterForm.markAsUntouched(),this.emitFilterApplied.emit(this.filterForm.value)}isReadyToApply(){return!this.filterForm?.valid||!this.filterForm?.dirty}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=v({type:o,selectors:[["app-grid-filter"]],inputs:{config:"config",filterForm:"filterForm",isLoading:"isLoading"},outputs:{emitFilterApplied:"emitFilterApplied",isCollapsedChange:"isCollapsedChange"},standalone:!0,features:[P],decls:17,vars:9,consts:[[1,"filter-panel"],[1,"form",3,"formGroup"],[1,"form-header"],["mat-icon-button","","matTooltipPosition","left",1,"toggle-button",3,"click","matTooltip"],[1,"collapsed-icon"],[1,"title"],[1,"form-content"],[1,"form-fields"],[1,"filter-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","","color","primary",3,"click","disabled"],["appearance","outline",1,"width",3,"appSkeleton"],["matInput","",3,"formControlName"],[3,"formControlName"],[3,"value"],[3,"formControlName","label","placeholder","isDisabled","appSkeleton"],[3,"dateRangeFormGroup","label","appSkeleton"]],template:function(i,t){i&1&&(d(0,"div",0)(1,"form",1)(2,"div",2)(3,"button",3),b("click",function(){return t.toggleCollapse()}),d(4,"mat-icon",4),u(5),p()(),d(6,"h3",5),u(7,"FILTRO"),p()(),d(8,"div",6)(9,"div",7),Q(10,Ke,4,1,null,null,ze),p(),d(12,"div",8)(13,"button",9),b("click",function(){return t.applyFilter()}),u(14," Aplicar Filtro "),p(),d(15,"button",10),b("click",function(){return t.clearFilter()}),u(16," Limpiar Filtro "),p()()()()()),i&2&&(E("collapsed",t.isCollapsed()),l(),m("formGroup",t.filterForm),l(2),ie("matTooltip",t.isCollapsed()?"Mostrar Filtro":"Ocultar Filtro"),l(2),x(t.isCollapsed()?"chevron_left":"chevron_right"),l(3),E("hidden",t.isCollapsed()),l(2),X(t.config),l(3),m("disabled",t.isReadyToApply()),l(2),m("disabled",!t.hasActiveFilters()))},dependencies:[M,L,me,w,T,I,R,A,V,B,$,z,_e,fe,he,le,j,k,G,de,pe,xe,Le,Pe,Ce,ue],styles:["[_nghost-%COMP%]{height:100%;overflow:hidden}.filter-panel[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;transition:width .3s ease-in-out}.filter-panel.collapsed[_ngcontent-%COMP%]{width:100%}.filter-panel.collapsed[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;justify-content:center;align-items:center;width:100%;margin-top:20px}.filter-panel.collapsed[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   .title[_ngcontent-%COMP%]{display:none}.form[_ngcontent-%COMP%]{padding:15px;background-color:#f0f4f9;box-sizing:border-box;height:100%;display:flex;flex-direction:column}.form-header[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:15px}.toggle-button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:50%;box-shadow:0 2px 5px #0000001a;height:32px;width:32px;padding:0;line-height:32px;margin:0}.filter-panel.collapsed[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{position:static;left:auto;transform:translateY(-50%)}.collapsed-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px!important}.title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;letter-spacing:.1875rem;margin:0 0 20px;height:40px}.form-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;overflow:hidden;opacity:1;height:100%;padding:0;margin:0;pointer-events:auto;transition:opacity .3s ease-in-out,height .3s ease-in-out}.form-content.hidden[_ngcontent-%COMP%]{opacity:0;height:0;padding:0;margin:0;pointer-events:none;overflow:hidden}.form-fields[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding-right:5px;padding-top:5px;height:auto}.form-fields[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px;height:6px}.form-fields[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.form-fields[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.form-fields[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@supports not selector(::-webkit-scrollbar){.form-fields[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#c1c1c1 #f1f1f1}}.form-fields[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:15px}.form-fields[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:15px}.filter-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-direction:column;align-items:unset;gap:15px;padding:20px 0;border-top:1px solid #ddd;background-color:#f0f4f9}.width[_ngcontent-%COMP%]{width:100%}app-date-input[_ngcontent-%COMP%]{margin-bottom:15px!important;display:block!important}app-date-range[_ngcontent-%COMP%]{margin-bottom:15px!important;display:block!important}.skeleton-loading[_ngcontent-%COMP%]{margin-bottom:30px!important}mat-form-field.skeleton-loading[_ngcontent-%COMP%]{margin-bottom:30px!important}",'.skeleton-loading[_ngcontent-%COMP%]{color:transparent!important;background-color:transparent!important;border-color:transparent!important;position:relative;overflow:hidden;pointer-events:none;min-height:1em}.skeleton-loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}mat-form-field.skeleton-loading[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}button.skeleton-loading[_ngcontent-%COMP%]{background-color:#f0f0f0!important;color:transparent!important;box-shadow:none!important;position:relative;overflow:hidden}button.skeleton-loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}'],changeDetection:0})}}return o})();var ei=(()=>{class o{constructor(){this.gridFilterConfigSig=g([]),this.gridFilterFormSig=g(new N({})),this.gridConfigSig=g({}),this.gridDataSig=g([]),this.chipsSig=g([]),this.isLoadingGridDataSig=g(!0),this.isLoadingFilterGridDataSig=g(!0),this.isFilterCollapsedSig=g(!1),this.employees=[],this._positions=[],this._countries=[],this._genders=[{id:"all",description:"Todos"},{id:0,description:"No binario"},{id:1,description:"Masculino"},{id:2,description:"Femenino"}],this._defaultChips={gender:"all",position:"all",country:"all",active:"all"},this._queryParams={componentPath:"employee-grid-pagination",componentName:"Grilla Full"},this._employeeFilterParams={},this._employeeServices=f(Me),this._positionServices=f(Ge),this._countryServices=f(we),this._exportService=f(Ee),this._cdr=f(ne),this._spinnerService=f(Oe),this._breadcrumbService=f(Te),this._alertService=f(Ne),this._defaultPaginatorOptions={pageIndex:0,pageSize:25,pageSizeOptions:[5,10,25,100],totalCount:0,isServerSide:!0},this._router=f(se),this._alertService.clearAlerts(),this._setBreadcrumb(),this.gridConfigSig.set(this._setGridConfiguration()),this._initializeGridFilter(),this._createChips(this._defaultChips)}ngOnInit(){this._loadData()}ngOnDestroy(){this._breadcrumbService.clearBreadcrumbs()}onFilterCollapseChange(e){this.isFilterCollapsedSig.set(e),console.log(`Filtro colapsado: ${e}`)}onRowDblClick(e){let i=e;this._editEmployee(i.id)}onCreateEmployee(){this._router.navigate(["/employee/create"],{queryParams:this._queryParams})}applyFilter(e){if(this._employeeFilterParams={},this._setEmployeeFilterParameters(),Object.values(e).every(t=>t===null||typeof t=="object"&&t!==null&&Object.values(t).every(r=>r===null)))this._createChips(this._defaultChips),this._initializeGridFilter();else{this._createChips(e);let t=this._mapToEmployeeFilterParams(e);Object.assign(this._employeeFilterParams,t)}this.gridConfigSig().paginator&&(this.gridConfigSig().paginator.pageIndex=0),this._reloadGridData()}onGridSortChange(e){let i=e.active,t=e.direction;this._employeeFilterParams=F(y({},this._employeeFilterParams),{sortColumn:i,sortOrder:t,page:1}),this._updateGridConfigOnSortChange(e),this._reloadGridData()}onGridPageChange(e){this._employeeFilterParams=F(y({},this._employeeFilterParams),{page:e.pageIndex+1,limit:e.pageSize}),this._reloadGridData()}onExportToExcel(){this._spinnerService.show();let e=this.gridFilterFormSig().value,i=this._mapToEmployeeFilterParams(e);this._employeeFilterParams.sortColumn&&(i.sortColumn=this._employeeFilterParams.sortColumn),this._employeeFilterParams.sortOrder&&(i.sortOrder=this._employeeFilterParams.sortOrder),this._employeeServices.getEmployeesForExportJsonServer(i).pipe(q(t=>this._mapEmployeesForExport(t))).subscribe({next:t=>{let r="Empleados.xlsx";setTimeout(()=>{this._exportService.exportToExcel(t,r),this._spinnerService.hide(),this._cdr.markForCheck()},1500)},error:()=>{this._spinnerService.hide(),this._cdr.markForCheck(),this._alertService.showDanger("Error al descargar el archivo de Excel")}})}onRemoveChip(e){let i=e.key,t={position:()=>this.gridFilterFormSig().get(i)?.patchValue("all"),country:()=>this.gridFilterFormSig().get(i)?.patchValue("all"),active:()=>this.gridFilterFormSig().get(i)?.patchValue("all"),gender:()=>this.gridFilterFormSig().get(i)?.patchValue("all"),birthDateRange:()=>this.gridFilterFormSig().get(i)?.patchValue({startDate:null,endDate:null}),default:()=>this.gridFilterFormSig().get(i)?.patchValue(null)};(t[i]||t.default)(),this.applyFilter(this.gridFilterFormSig().value)}_createChips(e){this.chipsSig.set(this._mapToChipsDescription(e))}_mapToChipsDescription(e){let i=[],t=(n,a)=>{let s=n.find(_=>_.id===a);return s?s.description:null},r=(n,a)=>{switch(n){case"position":return`Puesto: ${(typeof a=="number"?t(this._positions,a):null)||"Todos"}`;case"country":return`Pa\xEDs: ${(typeof a=="number"?t(this._countries,a):null)||"Todos"}`;case"gender":return`G\xE9nero: ${(typeof a=="number"?t(this._genders,a):null)||"Todos"}`;case"active":return`Estado: ${a==="all"?"Todos":a?"Activo":"Inactivo"}`;case"birthDateRange":{let s=a,_=s.startDate?S.fromISO(s.startDate).toFormat("dd/MM/yyyy"):"N/A",D=s.endDate?S.fromISO(s.endDate).toFormat("dd/MM/yyyy"):"N/A";return`Fecha de Nacimiento: ${_} - ${D}`}default:return`${n}: ${a}`}};for(let[n,a]of Object.entries(e)){if(a==null||a==="")continue;let s=a!=="all"||["position","country","gender","active"].includes(n),_=a==="all";if(n==="birthDateRange"){let D=a;if(!D.startDate&&!D.endDate)continue}s&&i.push({key:n,label:r(n,a),value:a,disabled:_})}return i}_mapEmployeesForExport(e){return e.map(i=>{let t=i.birthDate,r=t?S.fromISO(t).toFormat("dd/MM/yyyy"):null;return{id:i.id,nombre:i.name||null,apellido:i.surname||null,puesto:this._getPositionDescription(i.positionId),pais:this._getCountryDescription(i.countryId),genero:this._getGenderDescription(i.genderId),estado:typeof i.active=="boolean"?i.active?"Activo":"Inactivo":null,nacimiento:r}})}_setEmployeeFilterParameters(){this._employeeFilterParams.page=1,this._employeeFilterParams.limit=25,this._employeeFilterParams.sortColumn="id",this._employeeFilterParams.sortOrder="asc"}_reloadGridData(){this.isLoadingGridDataSig.set(!0),this._employeeServices.getEmployees(this._employeeFilterParams).pipe(q(this._mapPaginatedListToGridData.bind(this)),U(()=>{this.isLoadingGridDataSig.set(!1)})).subscribe({next:e=>{this.gridDataSig.set(e.items),this._updateGridConfig(e)},error:e=>{this._alertService.showDanger(`Error al obtener empleados. ${e.statusText}`)}})}_getPositions(){return this._positionServices.getPositions().pipe(H(()=>(this._alertService.showDanger("Error al cargar la lista de puestos."),W([]))))}_getCountries(){return this._countryServices.getCountries().pipe(H(()=>(this._alertService.showDanger("Error al cargar la lista de paises."),W([]))))}_loadData(){this.isLoadingGridDataSig.set(!0),this.isLoadingFilterGridDataSig.set(!0),this._setEmployeeFilterParameters(),Z({positions:this._getPositions(),countries:this._getCountries(),employees:this._employeeServices.getEmployees(this._employeeFilterParams)}).pipe(U(()=>{this.isLoadingGridDataSig.set(!1),this.isLoadingFilterGridDataSig.set(!1),this._cdr.markForCheck()})).subscribe({next:e=>{this._positions=e.positions,this._countries=e.countries;let i={id:"all",description:"Todos"};this._positions.unshift(i),this._countries.unshift(i),this._initializeGridFilter();let t=this._mapPaginatedListToGridData(e.employees);this.gridDataSig.set(t.items),this._updateGridConfig(t)},error:()=>{this._alertService.showDanger("Error al cargar datos.")}})}_mapPaginatedListToGridData(e){let i=e.items.map(t=>{let r={imgUrl:t.imgUrl,id:t.id,elipsisActions:this._setElipsisActions(t),name:t.name,surname:t.surname,birthDate:t.birthDate,active:t.active,position:this._getPositionDescription(t.positionId),gender:this._getGenderDescription(t.genderId),country:this._getCountryDescription(t.countryId)};if(typeof t.birthDate=="string"){let n=S.fromISO(t.birthDate);r.birthDate=n.isValid?n.toFormat("dd/MM/yyyy"):t.birthDate}else r.birthDate=t.birthDate;return r});return F(y({},e),{items:i,pageIndex:e.page-1})}_getCountryDescription(e){return this._countries.find(i=>i.id===e)?.description||""}_getPositionDescription(e){return this._positions.find(i=>i.id===e)?.description||""}_getGenderDescription(e){return this._genders.find(i=>i.id===e)?.description||""}_setElipsisActions(e){return[{id:"edit",label:"Editar",icon:"edit",action:i=>this._editEmployee(i)},{id:"delete",label:"Eliminar",icon:"delete_forever",action:i=>this._deleteEmployee(i),condition:()=>e.active===!1}]}_editEmployee(e){this._router.navigate([`/employee/edit/${e}`],{queryParams:this._queryParams})}_deleteEmployee(e){console.log(`Intentando eliminar empleado con ID: ${e}`)}_updateGridConfigOnSortChange(e){let i=this.gridConfigSig().paginator||this._defaultPaginatorOptions;this.gridConfigSig.update(t=>F(y({},t),{OrderBy:{columnName:e.active,direction:e.direction},paginator:F(y({},i),{pageIndex:0})}))}_updateGridConfig(e){let{totalCount:i,pageIndex:t,pageSize:r}=e,{sortColumn:n="",sortOrder:a=""}=this._employeeFilterParams,s=F(y({},this.gridConfigSig().paginator||this._defaultPaginatorOptions),{totalCount:i,pageSize:r,pageIndex:t}),_={columnName:n,direction:a};this.gridConfigSig.update(D=>F(y({},D),{paginator:s,OrderBy:_}))}_mapToEmployeeFilterParams(e){let i={},t=e;for(let r in t){let n=t[r];if(!(["active","position","gender","country"].includes(r)&&(n==="all"||n==="Todos"||n===""))){if(r==="birthDateRange"&&n){let a=n;if(a.startDate){let s=S.fromJSDate(new Date(a.startDate));s.isValid&&(i.birthDate_gte=s.toFormat("yyyy-MM-dd"))}if(a.endDate){let s=S.fromJSDate(new Date(a.endDate));s.isValid&&(i.birthDate_lte=s.toFormat("yyyy-MM-dd"))}continue}n!=null&&(i[r]=n)}}return i}_setGridConfiguration(){return ce({columns:[{name:"imgUrl",width:"50px",type:"img",isSortable:!1,hasHeader:!1},{name:"id"},{name:"name"},{name:"surname"},{name:"birthDate"},{name:"gender",isSortable:!1},{name:"position",isSortable:!1},{name:"country",isSortable:!1},{name:"active",class:"status-circle",align:"left",width:"50px"},{name:"elipsisActions",align:"center",isSortable:!1,type:"elipsis",hasHeader:!1}],paginator:{pageSize:this._employeeFilterParams.limit||25,pageSizeOptions:[25,50],totalCount:0,pageIndex:0,isServerSide:!0},hasSorting:{isServerSide:!0},OrderBy:{columnName:this._employeeFilterParams.sortColumn||"id",direction:this._employeeFilterParams.sortOrder||"asc"},hasChips:!0,actionButtons:[{class:"primary-button",icon:"assets/person.svg",text:"Agregar",action:()=>this.onCreateEmployee()},{class:"download-button",type:"download",icon:"assets/download.svg",tooltip:"Descargar excel"}]})}_initializeGridFilter(){let e=[{fieldName:"id",fieldType:"text",label:"Id"},{fieldName:"name",fieldType:"text",label:"Nombre"},{fieldName:"surname",fieldType:"text",label:"Apellido"},{fieldName:"gender",fieldType:"select",label:"G\xE9nero",selectItems:this._genders},{fieldName:"birthDateRange",fieldType:"dateRange",label:"Rango de nacimiento"},{fieldName:"position",fieldType:"select",label:"Puesto",selectItems:this._positions},{fieldName:"country",fieldType:"select",label:"Pais",selectItems:this._countries},{fieldName:"active",fieldType:"select",label:"Estado",selectItems:[{description:"Todos",id:"all"},{description:"activo",id:1},{description:"inactivo",id:0}]}];this.gridFilterConfigSig.set(e);let i={};e.forEach(t=>{switch(t.fieldType){case"text":i[t.fieldName]=new O("");break;case"select":i[t.fieldName]=new O("all");break;case"dateRange":i[t.fieldName]=new N({startDate:new O(null),endDate:new O(null)});break}}),this.gridFilterFormSig.set(new N(i))}_setBreadcrumb(){this._breadcrumbService.setBreadcrumbs([{label:"Inicio",path:"/"},{label:`${this._queryParams.componentName}`,path:"/employees"}])}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=v({type:o,selectors:[["app-employee-grid-pagination"]],standalone:!0,features:[P],decls:9,vars:9,consts:[[1,"wrapper"],[1,"components-container"],[1,"employee-grid-container"],[3,"pageChange","sortChange","exportExcel","chipRemoved","createButtonClicked","rowDblClick","gridConfigSig","gridDataSig","isLoadingSig","chipsSig"],[1,"filter-container"],[3,"emitFilterApplied","isCollapsedChange","config","filterForm","isLoading"]],template:function(i,t){i&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),C(3,"app-breadcrumb")(4,"app-alert"),d(5,"app-grid",3),b("pageChange",function(n){return t.onGridPageChange(n)})("sortChange",function(n){return t.onGridSortChange(n)})("exportExcel",function(){return t.onExportToExcel()})("chipRemoved",function(n){return t.onRemoveChip(n)})("createButtonClicked",function(){return t.onCreateEmployee()})("rowDblClick",function(n){return t.onRowDblClick(n)}),p()(),d(6,"div",4),ee(7),d(8,"app-grid-filter",5),b("emitFilterApplied",function(n){return t.applyFilter(n)})("isCollapsedChange",function(n){return t.onFilterCollapseChange(n)}),p(),te(),p()()()),i&2&&(l(),E("filter-collapsed",t.isFilterCollapsedSig()),l(4),m("gridConfigSig",t.gridConfigSig())("gridDataSig",t.gridDataSig())("isLoadingSig",t.isLoadingGridDataSig())("chipsSig",t.chipsSig()),l(3),m("config",t.gridFilterConfigSig())("filterForm",t.gridFilterFormSig())("isLoading",t.isLoadingFilterGridDataSig()))},dependencies:[M,ae,ye,$e,ke,Ie,Re],styles:[".wrapper[_ngcontent-%COMP%]{height:calc(100vh - 100px);background-color:#fafbfc}.components-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 260px;gap:16px;width:100%;height:100%;overflow:hidden}.components-container.filter-collapsed[_ngcontent-%COMP%]{grid-template-columns:1fr 50px}.employee-grid-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0;margin-top:0;overflow:hidden}.employee-grid-container[_ngcontent-%COMP%]   app-breadcrumb[_ngcontent-%COMP%]{margin-top:20px}.employee-grid-container[_ngcontent-%COMP%]   app-alert[_ngcontent-%COMP%]{margin-bottom:16px}app-grid[_ngcontent-%COMP%]{flex:1;min-height:0}.filter-container[_ngcontent-%COMP%]{width:100%;min-height:0;display:flex;flex-direction:column;height:100%}"],changeDetection:0})}}return o})();export{ei as EmployeeGridPaginationComponent};
