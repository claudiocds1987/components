import{a as Ie}from"./chunk-SFWTOUAD.js";import{c as ze}from"./chunk-64ZK5W7Q.js";import{f as ke,g as Ne,h as De,i as Pe}from"./chunk-64PMGA5Q.js";import{a as ce}from"./chunk-GDMQ7NQL.js";import{a as Ve,b as Te,c as Le,d as $e,e as Be,f as je}from"./chunk-VXZZXDIS.js";import"./chunk-5YESZIAT.js";import{B as Oe,C as Me,D as Re,b as pe,d as R,g as ue,h as fe,i as ge,l as he,n as _e,o as ye,p as Ce,q as ve,r as xe,s as be,t as Se,u as Fe,y as we,z as Ae}from"./chunk-BMLLSFUZ.js";import{aa as ae,b as oe,ha as le,na as se,oa as de,pa as me,qa as Ee}from"./chunk-FRIGIZR4.js";import{Aa as P,Ab as $,Bb as l,Ca as Q,Cb as s,D as U,Db as v,Dc as ne,F as J,Hb as B,Jc as z,Kb as x,Mb as f,Vb as g,Wb as E,Xa as a,Xb as X,_ as ee,a as S,ac as j,b as A,bc as re,c as Y,d as Z,e as T,ea as y,hb as F,ja as I,ka as k,nb as O,p as W,pb as p,ra as te,sa as N,ta as D,vb as ie,wb as C,y as K,zb as L}from"./chunk-Y3ZRIA3V.js";var u=function(r){return r.required="required",r.minLength="minLength",r.maxLength="maxLength",r.email="email",r.validateRange="validateRange",r}(u||{});function Xe(r,m,e){let t=!1,i=new Map;return r.controls.forEach(n=>{let o=n.get(m),d=o?.value;if(o?.hasError(e)){let h=o.errors||{},{[e]:c}=h,_=Z(h,[Y(e)]);o.setErrors(Object.keys(_).length>0?_:null)}if(d){let c=typeof d=="string"?d.toLowerCase():d;i.has(c)||i.set(c,[]),i.get(c).push(o)}}),i.forEach(n=>{n.length>1&&(t=!0,n.forEach(o=>{o.setErrors(A(S({},o.errors),{[e]:!0}))}))}),t}function H(r){return m=>{let e=m,t=!1;return r.forEach(i=>{if(i.isRepeated===!1){let n,o=!0;switch(i.fieldType){case"date":n="duplicatedDate";break;case"text":n="isDuplicated";break;case"email":n="duplicatedEmail";break;default:n="isDuplicated",o=!0;break}o&&Xe(e,i.fieldName,n)&&(t=!0)}}),t?{hasDuplicates:!0}:null}}function V(r){if(!r||!r.errors)return;let m=r.errors,e=S({},m);e.dateRange!==void 0&&delete e.dateRange,Object.keys(e).length===0?r.setErrors(null):r.setErrors(e)}function He(r,m){return e=>{if(!(e instanceof ge))return null;let t=e.get(r),i=e.get(m);if(!t?.value||!i?.value)return V(t),V(i),null;let n=new Date(t.value),o=new Date(i.value);return n.setHours(0,0,0,0),o.setHours(0,0,0,0),n.getTime()>o.getTime()?(i.setErrors(A(S({},i.errors),{dateRange:{message:"La fecha final no puede ser anterior a la fecha inicial.",actual:i.value,target:t.value}})),i.touched||i.markAsTouched(),V(t),{dateRangeInvalid:!0}):(V(t),V(i),null)}}var Ye=(r,m)=>m.fieldName,Ze=(r,m)=>m.id,Ke=()=>[1,2,3,4];function et(r,m){if(r&1&&(l(0,"div",8),v(1,"span",7),l(2,"mat-form-field",9),v(3,"input",10),s()()),r&2){let e=f(2);a(),p("appSkeleton",e.isLoadingSig()),a(),p("appSkeleton",e.isLoadingSig())}}function tt(r,m){if(r&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),O(4,et,4,2,"div",4),s()()(),l(5,"div",5)(6,"button",6)(7,"mat-icon",7),g(8,"remove_circle"),s()(),l(9,"button",6)(10,"mat-icon",7),g(11,"add_circle"),s()()()()),r&2){let e=f();a(4),p("ngForOf",re(3,Ke)),a(3),p("appSkeleton",e.isLoadingSig()),a(3),p("appSkeleton",e.isLoadingSig())}}function it(r,m){if(r&1&&(l(0,"label",17),g(1),s()),r&2){let e=f(),t=e.$implicit,i=e.$index;p("for",t.fieldName+i),a(),X(" ",t.label," ")}}function rt(r,m){if(r&1&&(l(0,"mat-form-field",18)(1,"mat-label"),g(2),s(),v(3,"input",20),s()),r&2){let e=f(),t=e.$implicit,i=e.$index;p("id",t.fieldName+i)("appReadOnly",t.isReadOnly),a(2),E(t.label),a(),p("type",t.fieldType)("formControlName",t.fieldName)("placeholder",t.fieldName)}}function nt(r,m){if(r&1&&(l(0,"mat-form-field",18)(1,"mat-label"),g(2),s(),v(3,"input",20),s()),r&2){let e=f(),t=e.$implicit,i=e.$index;p("id",t.fieldName+i)("appReadOnly",t.isReadOnly),a(2),E(t.label),a(),p("type",t.fieldType)("formControlName",t.fieldName)("placeholder",t.fieldName)}}function ot(r,m){if(r&1&&(l(0,"mat-form-field",18)(1,"mat-label"),g(2),s(),v(3,"input",20),s()),r&2){let e=f(),t=e.$implicit,i=e.$index;p("id",t.fieldName+i)("appReadOnly",t.isReadOnly),a(2),E(t.label),a(),p("type",t.fieldType)("formControlName",t.fieldName)("placeholder",t.fieldName)}}function at(r,m){if(r&1&&(l(0,"div",19),v(1,"app-date-input",21),s()),r&2){let e,t,i,n=f(),o=n.$implicit,d=n.$index;a(),p("id",o.fieldName+d)("formControlName",o.fieldName)("label",(e=o.label)!==null&&e!==void 0?e:"")("placeholder",(t=o.label)!==null&&t!==void 0?t:"")("isDisabled",!1)("isReadOnly",(i=o.isReadOnly)!==null&&i!==void 0?i:!1)}}function lt(r,m){if(r&1&&(l(0,"mat-option",23),g(1),s()),r&2){let e=m.$implicit;p("value",e.id),a(),X(" ",e.description," ")}}function st(r,m){if(r&1&&(l(0,"mat-form-field",18)(1,"mat-label"),g(2),s(),l(3,"mat-select",22),L(4,lt,2,2,"mat-option",23,Ze),s()()),r&2){let e=f(),t=e.$implicit,i=e.$index,n=f().$implicit,o=f(2);p("id",t.fieldName+i)("appReadOnly",t.isReadOnly),a(2),E(t.fieldName),a(),p("formControlName",t.fieldName),a(),$(o.getOptionsForField(t.fieldName,n))}}function dt(r,m){if(r&1&&(l(0,"div",8),O(1,it,2,2,"label",17)(2,rt,4,6,"mat-form-field",18)(3,nt,4,6,"mat-form-field",18)(4,ot,4,6,"mat-form-field",18)(5,at,2,6,"div",19)(6,st,6,4,"mat-form-field",18),s()),r&2){let e=m.$implicit;a(),C(1,e.label?1:-1),a(),C(2,e.fieldType==="text"?2:-1),a(),C(3,e.fieldType==="email"?3:-1),a(),C(4,e.fieldType==="number"?4:-1),a(),C(5,e.fieldType==="date"?5:-1),a(),C(6,e.fieldType==="select"?6:-1)}}function mt(r,m){if(r&1){let e=B();l(0,"button",24),x("click",function(){N(e);let i=f(3);return D(i.addRow())}),l(1,"mat-icon"),g(2,"add_circle"),s()()}if(r&2){let e=f(3);p("disabled",!e.isReadyToAdd())}}function ct(r,m){if(r&1){let e=B();l(0,"div",13)(1,"div",2)(2,"div",3),L(3,dt,7,6,"div",8,Ye),s()(),l(5,"div",5)(6,"button",15),x("click",function(){let i=N(e).$index,n=f(2);return D(n.removeRow(i))}),l(7,"mat-icon"),g(8,"remove_circle"),s()(),O(9,mt,3,1,"button",16),s()()}if(r&2){let e=m.$index,t=f(2);p("formGroupName",e),a(3),$(t.formArrayConfig),a(6),C(9,e===t.rows.controls.length-1?9:-1)}}function pt(r,m){if(r&1){let e=B();l(0,"div",14),v(1,"app-feedback",25),l(2,"button",26),x("click",function(){N(e);let i=f(2);return D(i.addRow())}),g(3," Agregar "),s()()}r&2&&(a(),p("message","No hay datos. Haga clic en agregar para a\xF1adir una nueva fila."))}function ut(r,m){if(r&1&&(l(0,"form",11)(1,"div",12),L(2,ct,10,2,"div",13,ie().trackByFn,!0),s(),O(4,pt,4,1,"div",14),s()),r&2){let e=f();p("formGroup",e.mainForm),a(2),$(e.rows.controls),a(2),C(4,e.rows.controls.length===0&&!e.isLoadingSig()?4:-1)}}var Ge=(()=>{class r{get rows(){return this.mainForm.get("rows")}constructor(){this.formArrayConfig=[],this.data=null,this.selectItemsOverridesSig=P({}),this.lastOverrideSig=P(null),this.isLoadingSig=P(!0),this.emitFormArrayValue=new Q,this.fieldChange=new Q,this.availableOptionsMapSig=F(new Map),this._selectedValuesByFieldSig=F({}),this._valueChangesSubscription=new T,this.isInitialized=!1,this._originalSelectItemsMap=new Map,this._fb=y(xe),this._createFormArray()}ngOnChanges(e){let t=e.formArrayConfig&&this.formArrayConfig.length>0,i=e.data;if(t&&!this.isInitialized)this._initFormStructure(),this.isInitialized=!0;else if(this.isInitialized){if(t){this.initializeSelectMaps();let n=H(this.formArrayConfig);this.rows.setValidators(n)}i&&this._resetAndLoadRows(this.data||[]),this._applyOverridesAndResetControls(),this._calculateSelectAvailableOptions(),this.rows.updateValueAndValidity()}}ngOnInit(){this.setupValueChangeSubscription()}ngOnDestroy(){this._valueChangesSubscription.unsubscribe()}trackByFn(e,t){return t.value}isReadyToAdd(){return this.maxRows!==null&&this.rows.length>=this.maxRows?!1:this.mainForm.valid}getOptionsForField(e,t){let n=t.get(e).value,o=this.formArrayConfig.find(w=>w.fieldName===e),d=this.availableOptionsMapSig().get(e)||[],h=this.rows.controls.indexOf(t),c=this.selectItemsOverridesSig()[e]?.get(h)??void 0;if(c&&c.length>0)return c;if(o?.isRepeated||n===null)return d;let M=(this._selectedValuesByFieldSig()[e]||[]).filter(w=>w===n).length,b=(this._originalSelectItemsMap.get(e)||[]).find(w=>w.id===n);if(M<=1){if(!d.some(G=>G.id===n)&&b)return[...d,b].sort((G,Ue)=>{let Je=G.description.toString().toLowerCase(),Qe=Ue.description.toString().toLowerCase();return Je.localeCompare(Qe)})}else return b?[b]:[];return d}createRowGroup(e={},t){let i={},n=[],o=null,d=null;for(let c of this.formArrayConfig){let _=this._getValidators(c),M=e[c.fieldName]??null;i[c.fieldName]=this._fb.control(M,_);let q=c.validations?.find(b=>b.type===u.validateRange&&typeof b.value=="string");q&&(d=c.fieldName,o=q.value)}o&&d&&n.push(He(o,d));let h=this._fb.group(i,{validators:n});return t!==void 0&&this.formArrayConfig.forEach(c=>{if(c.emitChangeToParent){let _=h.get(c.fieldName);_&&this._valueChangesSubscription.add(_.valueChanges.pipe(J(100)).subscribe(M=>{this.fieldChange.emit({fieldName:c.fieldName,value:M,indexRow:t})}))}}),h}addRow(){if(this.maxRows!==null&&this.rows.length>=this.maxRows)return;this.formArrayConfig.map(t=>(t.isReadOnly&&(t.isReadOnly=!1),t));let e=this.rows.length;this.rows.push(this.createRowGroup({},e)),this.rows.markAsDirty()}removeRow(e){this.rows.removeAt(e),this.rows.markAsDirty()}_initFormStructure(){this.initializeSelectMaps();let e=H(this.formArrayConfig);this.rows.setValidators(e),this.rows.updateValueAndValidity(),this.data&&this.data.length>0?this._resetAndLoadRows(this.data):this.rows.length===0&&this.addRow(),this._calculateSelectAvailableOptions()}_createFormArray(){let e=[],t=this.formArrayConfig.find(i=>i.isRepeated===!1);t&&e.push(H([t])),this.mainForm=this._fb.group({rows:this._fb.array([],{validators:e})})}_resetAndLoadRows(e){this.rows.clear(),this._valueChangesSubscription.unsubscribe(),this._valueChangesSubscription=new T,this.setupValueChangeSubscription(),e.forEach((t,i)=>{let n=this._flattenObject(t);this.rows.push(this.createRowGroup(n,i))}),this.mainForm.markAsPristine()}_flattenObject(e){let t={};function i(n){for(let o in n)if(Object.prototype.hasOwnProperty.call(n,o)){let d=n[o];typeof d=="object"&&d!==null&&!Array.isArray(d)?i(d):t[o]=d}}return i(e),t}initializeSelectMaps(){this.formArrayConfig.forEach(e=>{e.fieldType==="select"&&e.selectItems&&this._originalSelectItemsMap.set(e.fieldName,[...e.selectItems])})}setupValueChangeSubscription(){this._valueChangesSubscription.unsubscribe(),this._valueChangesSubscription=new T,this._valueChangesSubscription.add(this.rows.valueChanges.subscribe(()=>{this._calculateSelectAvailableOptions()})),this._valueChangesSubscription.add(this.rows.statusChanges.pipe(J(300)).subscribe(e=>{e==="VALID"?this.emitFormArrayValue.emit(this.rows.value):this.emitFormArrayValue.emit(null)}))}_calculateSelectAvailableOptions(){let e=new Map,t={};this.formArrayConfig.forEach(i=>{if(i.fieldType==="select"&&!i.isRepeated){let n=[];this.rows.controls.forEach(o=>{let d=o.get(i.fieldName);d?.value!=null&&n.push(d.value)}),t[i.fieldName]=n}}),this._selectedValuesByFieldSig.set(t),this.formArrayConfig.forEach(i=>{let n=this._originalSelectItemsMap.get(i.fieldName);if(i.fieldType==="select"&&n)if(i.isRepeated)e.set(i.fieldName,n);else{let o=t[i.fieldName]||[],d=new Set(o),h=n.filter(c=>!d.has(c.id));e.set(i.fieldName,h)}}),this.availableOptionsMapSig.set(e)}_getValidators(e){let t=[];if(e.validations)for(let i of e.validations){if(i.type===u.validateRange)continue;let n=i.value;switch(i.type){case u.required:t.push(R.required);break;case u.minLength:n&&typeof n=="number"&&t.push(R.minLength(n));break;case u.maxLength:n&&typeof n=="number"&&t.push(R.maxLength(n));break;case u.email:t.push(R.email);break;default:console.warn(`Validation type ${i.type} not recognized.`)}}return t}_applyOverridesAndResetControls(){let e=this.rows,t=this.lastOverrideSig();if(!t)return;let{fieldName:i,rowIndex:n}=t;if(e&&e.length>n){let d=e.at(n).get(i);d&&d.setValue(null)}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=k({type:r,selectors:[["app-form-array"]],inputs:{id:"id",formArrayConfig:"formArrayConfig",data:"data",maxRows:"maxRows",selectItemsOverridesSig:[I.SignalBased,"selectItemsOverridesSig"],lastOverrideSig:[I.SignalBased,"lastOverrideSig"],isLoadingSig:[I.SignalBased,"isLoadingSig"]},outputs:{emitFormArrayValue:"emitFormArrayValue",fieldChange:"fieldChange"},standalone:!0,features:[te,j],decls:2,vars:1,consts:[[1,"skeleton-layout"],[1,"row-container"],[1,"fields-wrapper"],[1,"grid"],["class","inputs-container",4,"ngFor","ngForOf"],[1,"actions-container"],["mat-icon-button",""],[3,"appSkeleton"],[1,"inputs-container"],["appearance","outline",3,"appSkeleton"],["matInput",""],[3,"formGroup"],["formArrayName","rows"],[1,"row-container",3,"formGroupName"],[1,"feedback-container"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"disabled"],[3,"for"],["appearance","outline",1,"width",3,"id","appReadOnly"],[1,"component-container"],["matInput","","appCustomValidationMessage","",3,"type","formControlName","placeholder"],["appCustomValidationMessage","",1,"width",3,"id","formControlName","label","placeholder","isDisabled","isReadOnly"],["appCustomValidationMessage","",3,"formControlName"],[3,"value"],["mat-icon-button","",3,"click","disabled"],[3,"message"],["mat-raised-button","","color","primary",1,"add-row-button",3,"click"]],template:function(t,i){t&1&&O(0,tt,12,4,"div",0)(1,ut,5,2),t&2&&C(0,i.isLoadingSig()?0:1)},dependencies:[z,ne,be,he,pe,ue,fe,Se,_e,ve,ye,Ce,Ae,we,Fe,Me,Oe,me,se,de,Pe,ke,ae,Te,Ve,le,Ee,ze,ce,Ne,De,Ie],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:50px}.row-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;margin-bottom:20px;width:100%;flex-direction:column}.fields-wrapper[_ngcontent-%COMP%]{flex-grow:1;width:100%;padding:20px;border:1px solid #ddd;border-radius:4px;box-shadow:0 1px 1px #0000000d}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:15px;width:100%}.inputs-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.inputs-container[_ngcontent-%COMP%]   .width[_ngcontent-%COMP%]{width:100%}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:10px;padding-top:5px}.feedback-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;height:100%;text-align:center;gap:20px}@media (min-width: 600px){.fields-wrapper[_ngcontent-%COMP%]{width:100%}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px 15px}.actions-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;padding-top:0}}@media (min-width: 1024px){.fields-wrapper[_ngcontent-%COMP%]{width:100%}.row-container[_ngcontent-%COMP%]{flex-direction:row;width:100%}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:20px;align-items:start}.actions-container[_ngcontent-%COMP%]{flex-direction:row;align-self:flex-start;justify-content:flex-end;min-width:100px}}@media (min-width: 1440px){.fields-wrapper[_ngcontent-%COMP%]{width:100%}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:20px;align-items:start}.inputs-container[_ngcontent-%COMP%]:nth-child(5), .inputs-container[_ngcontent-%COMP%]:nth-child(9){grid-column:unset;grid-row:unset}}.skeleton-layout[_ngcontent-%COMP%]{display:flex;gap:10px}",'.skeleton-loading[_ngcontent-%COMP%]{color:transparent!important;background-color:transparent!important;border-color:transparent!important;position:relative;overflow:hidden;pointer-events:none;min-height:1em}.skeleton-loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}mat-form-field.skeleton-loading[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}button.skeleton-loading[_ngcontent-%COMP%]{background-color:#f0f0f0!important;color:transparent!important;box-shadow:none!important;position:relative;overflow:hidden}button.skeleton-loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}'],changeDetection:0})}}return r})();var We=(()=>{class r{constructor(){this.apiUrl="https://json-server-data-fpl9.onrender.com/provinces",this._httpClient=y(oe)}getProvinces(){return this._httpClient.get(this.apiUrl)}getProvincesById(e){return this._httpClient.get(`${this.apiUrl}/${e}`)}getProvincesByCountry(e){let t=`${this.apiUrl}?countryId=${e}`;return this._httpClient.get(t)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var gi=(()=>{class r{constructor(){this.isLoadingSig=F(!0),this.selectItemsOverridesSig=F({}),this.lastOverrideSig=F(null),this.formArrayConfig1=[],this.formArrayConfig2=[],this.formArrayConfig3=[],this.formArrayConfig4=[],this.formArrayWithChangeEvent=[],this.formArrayWithChangeId="formWithChange",this.employeeData1=[{country:1,gender:1,position:1,email:"juan.perez@empresa.com"},{country:2,gender:2,position:2,email:"ana.lopez@empresa.com"}],this.employeeData2=[{startDate:"2023-01-15",endDate:"2023-12-31",country:1,email:"juan.perez@empresa.com"},{startDate:"2024-03-01",endDate:"2024-05-30",country:1,email:"ana.lopez@empresa.com"}],this.employeeData3=[],this._positionServices=y(Le),this._countryServices=y($e),this._alertService=y(Re),this._breadcrumbService=y(Be),this._provinceService=y(We),this._positions=[],this._countries=[],this._genders=[{id:0,description:"No binario"},{id:1,description:"Masculino"},{id:2,description:"Femenino"}],this._alertService.clearAlerts()}ngOnInit(){this._setBreadcrumb(),this._loadData()}ngOnDestroy(){this._breadcrumbService.clearBreadcrumbs()}getFormArray1Value(e){console.log("Valor FormArray 1:",e)}getFormArray2Value(e){console.log("Valor FormArray 2:",e)}getFormArray3Value(e){console.log("Valor FormArray 3:",e)}getFormArrayWithChangeEventValue(e){console.log("Valor FormArray con evento de cambio:",e)}handleFieldChange(e){let{fieldName:t,value:i,indexRow:n}=e;if(t==="country"){let o=i;this._provinceService.getProvincesByCountry(o).subscribe(d=>{let h=d.map(c=>({id:c.id,description:c.description}));this.selectItemsOverridesSig.update(c=>{let _=c.province?new Map(c.province):new Map;return _.set(n,h),A(S({},c),{province:_})}),this.lastOverrideSig.set({fieldName:"province",rowIndex:n})})}}_loadData(){this.isLoadingSig.set(!0),K({positions:this._getPositions(),countries:this._getCountries()}).subscribe({next:e=>{this._positions=e.positions,this._countries=e.countries,this._setFormArray1(),this._setFormArray2(),this._setFormArray3(),this._setFormArrayWithChangeEvent(),this.isLoadingSig.set(!1)},error:()=>{this.isLoadingSig.set(!1),this._alertService.showDanger("Error al cargar datos.")}})}_setFormArray1(){this.formArrayConfig1=[{fieldName:"country",fieldType:"select",selectItems:this._countries,label:"Pa\xEDs",placeHolder:"Selecciona un pa\xEDs",validations:[{type:u.required}],isRepeated:!0},{fieldName:"gender",fieldType:"select",selectItems:this._genders,label:"G\xE9nero",placeHolder:"Selecciona el g\xE9nero",validations:[{type:u.required}],isRepeated:!0},{fieldName:"position",fieldType:"select",selectItems:this._positions,label:"Puesto",placeHolder:"",validations:[{type:u.required}],isRepeated:!0},{fieldName:"email",fieldType:"email",label:"Email",placeHolder:"Ej: usuario@dominio.com",validations:[{type:u.required},{type:u.email}],isRepeated:!0}]}_setFormArray2(){this.formArrayConfig2=[{fieldName:"country",fieldType:"select",selectItems:this._countries,label:"Pa\xEDs",placeHolder:"Selecciona un pa\xEDs",validations:[{type:u.required}],isRepeated:!1},{fieldName:"position",fieldType:"select",selectItems:this._positions,label:"Puesto",placeHolder:"",validations:[{type:u.required}],isRepeated:!1},{fieldName:"date",fieldType:"date",label:"Fecha",placeHolder:"",validations:[{type:u.required}],isRepeated:!1},{fieldName:"email",fieldType:"email",label:"Email",placeHolder:"Ej: usuario@dominio.com",validations:[{type:u.required},{type:u.email}],isRepeated:!1}]}_setFormArray3(){this.formArrayConfig3=[{fieldName:"startDate",fieldType:"date",label:"Fecha Desde",placeHolder:"",validations:[{type:u.required}],isRepeated:!0},{fieldName:"endDate",fieldType:"date",label:"Fecha Hasta",placeHolder:"",validations:[{type:u.required},{type:u.validateRange,value:"startDate"}],isRepeated:!0},{fieldName:"email",fieldType:"email",label:"Email",placeHolder:"Ej: usuario@dominio.com",validations:[{type:u.email}],isRepeated:!1,isReadOnly:!0}]}_setFormArrayWithChangeEvent(){this.formArrayWithChangeEvent=[{fieldName:"country",fieldType:"select",label:"Pa\xEDs",placeHolder:"Pais",selectItems:[{id:1,description:"Argentina"},{id:2,description:"Bolivia"}],isRepeated:!0,emitChangeToParent:!0},{fieldName:"province",fieldType:"select",label:"Provincia",placeHolder:"Provincia",selectItems:[],isRepeated:!0}]}_getPositions(){return this._positionServices.getPositions().pipe(U(()=>(this._alertService.showDanger("Error al cargar la lista de puestos."),W([]))))}_getCountries(){return this._countryServices.getCountries().pipe(U(()=>(this._alertService.showDanger("Error al cargar la lista de paises."),W([]))))}_setBreadcrumb(){this._breadcrumbService.setBreadcrumbs([{label:"Inicio",path:"/home"},{label:"Form-array",path:""}])}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=k({type:r,selectors:[["app-employee-form-array"]],standalone:!0,features:[j],decls:18,vars:20,consts:[[1,"main-container"],[1,"example1"],[3,"emitFormArrayValue","id","formArrayConfig","data","isLoadingSig","maxRows"],[1,"example2"],[3,"emitFormArrayValue","id","formArrayConfig","isLoadingSig","maxRows"],[1,"example3"],[3,"emitFormArrayValue","id","formArrayConfig","data","isLoadingSig"],[1,"example4"],[3,"emitFormArrayValue","fieldChange","id","formArrayConfig","data","isLoadingSig","maxRows","selectItemsOverridesSig","lastOverrideSig"]],template:function(t,i){t&1&&(l(0,"div",0),v(1,"app-breadcrumb"),l(2,"div",1)(3,"h5"),g(4," Configuraci\xF3n: Todos los campos se pueden repetir, todos son obligatorios. M\xE1ximo de filas 5 "),s(),l(5,"app-form-array",2),x("emitFormArrayValue",function(o){return i.getFormArray1Value(o)}),s()(),l(6,"div",3)(7,"h5"),g(8," Configuraci\xF3n: Ningun campo se puede repetir, todos son obligatorios. M\xE1ximo de filas 3. "),s(),l(9,"app-form-array",4),x("emitFormArrayValue",function(o){return i.getFormArray2Value(o)}),s()(),l(10,"div",5)(11,"h5"),g(12," Configuraci\xF3n: Validaci\xF3n de rango de fechas y campos solo lectura "),s(),l(13,"app-form-array",6),x("emitFormArrayValue",function(o){return i.getFormArray3Value(o)}),s()(),l(14,"div",7)(15,"h5"),g(16," Configuraci\xF3n: Campos con evento de cambio, el componente padre carga las provincias seg\xFAn el pais elegido. M\xE1ximo de filas 2. "),s(),l(17,"app-form-array",8),x("emitFormArrayValue",function(o){return i.getFormArrayWithChangeEventValue(o)})("fieldChange",function(o){return i.handleFieldChange(o)}),s()()()),t&2&&(a(5),p("id","form1")("formArrayConfig",i.formArrayConfig1)("data",i.employeeData1)("isLoadingSig",i.isLoadingSig())("maxRows",5),a(4),p("id","form2")("formArrayConfig",i.formArrayConfig2)("isLoadingSig",i.isLoadingSig())("maxRows",3),a(4),p("id","form3")("formArrayConfig",i.formArrayConfig3)("data",i.employeeData2)("isLoadingSig",i.isLoadingSig()),a(4),p("id","formWithChange")("formArrayConfig",i.formArrayWithChangeEvent)("data",i.employeeData3)("isLoadingSig",i.isLoadingSig())("maxRows",2)("selectItemsOverridesSig",i.selectItemsOverridesSig())("lastOverrideSig",i.lastOverrideSig()))},dependencies:[Ge,je,z],styles:['@charset "UTF-8";.main-container[_ngcontent-%COMP%]{padding:20px 0}.example1[_ngcontent-%COMP%], .example2[_ngcontent-%COMP%], .example3[_ngcontent-%COMP%], .example4[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto 50px}h5[_ngcontent-%COMP%]{padding:20px;letter-spacing:.1em;background-color:#f0f4f9;font-weight:400;color:#3f51b5;border:1px solid #e4e7f6;width:100%}'],changeDetection:0})}}return r})();export{gi as EmployeeFormArrayComponent};
