import{a as Je,b as Ye,c as et,d as tt}from"./chunk-7BAETRAE.js";import{a as $e}from"./chunk-F7GNEPZA.js";import{a as rt,b as st,c as ct}from"./chunk-LBG7LIDK.js";import{f as Ze,h as Ke,i as Xe}from"./chunk-S65FGQPQ.js";import{a as Ce}from"./chunk-Z5LIF3FH.js";import{a as Qe,b as We,c as it,d as nt,e as at,f as ot}from"./chunk-AJA27RCA.js";import{l as Y,m as qe,n as Ue,o as ee,q as Ge,u as He}from"./chunk-FKF45QYA.js";import{B as Te,C as je,D as Ve,E as ze,b as xe,d as D,g as Se,h as Me,i as we,k as g,l as De,n as Fe,q as Ae,s as Ee,t as Be,u as Pe,y as Oe,z as Re}from"./chunk-2IBYDHOE.js";import{D as be,E as ge,P as ve,aa as ke,h as he,ha as ye,j as fe,n as _e,na as I,pa as N,qa as Ne,ra as Le}from"./chunk-NPECNDHW.js";import{$b as k,Ab as s,Ba as ae,Bb as o,Cb as f,Cc as pe,Dc as ue,Gb as j,Ib as le,Ic as B,J as ie,Jb as C,Kb as de,Lb as _,Qb as Q,Qc as Ie,Rb as W,Rc as K,Sb as Z,Tc as U,Ua as $,Ub as l,Uc as X,V as ne,Vb as x,Wb as b,Wc as J,Xa as r,Ya as y,_ as A,_a as oe,a as F,ba as H,da as w,ea as m,eb as re,ib as se,j as M,ka as v,ma as z,mc as q,nb as h,ob as ce,pb as d,sa as O,ta as R,vb as E,wc as me,y as te,ya as T}from"./chunk-Y4KEZB6L.js";function bt(n,p){if(n&1){let e=j();s(0,"button",7),C("click",function(){O(e);let i=_(2);return R(i.onCancelClick())}),l(1),o()}if(n&2){let e=_(2);r(),b(" ",e.data.cancelButtonText," ")}}function gt(n,p){if(n&1){let e=j();s(0,"button",8),C("click",function(){O(e);let i=_(2);return R(i.onAcceptClick())}),l(1),o()}if(n&2){let e=_(2);r(),b(" ",e.data.acceptButtonText||"Aceptar"," ")}}function vt(n,p){if(n&1&&(s(0,"div",4),h(1,bt,2,1,"button",5)(2,gt,2,1,"button",6),o()),n&2){let e=_();r(),E(1,e.data.cancelButtonText?1:-1),r(),E(2,e.data.acceptButtonText?2:-1)}}var lt=(()=>{class n{constructor(){this.dialogRef=m(Ye),this.data=m(et)}onAcceptClick(){this.dialogRef.close(!0)}onCancelClick(){this.dialogRef.close(!1)}getFeedbackIcon(){return this.data.type==="success"?"assets/success.svg":this.data.type==="warning"?"assets/warning.svg":"assets/danger.svg"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-feedback-dialog"]],standalone:!0,features:[k],decls:7,vars:4,consts:[[1,"feedback-dialog-container"],["alt","Feedback icon",1,"feedback-icon",3,"src"],[1,"feedback-title"],[1,"feedback-message"],[1,"feedback-actions"],["mat-stroked-button","","color","primary"],["mat-flat-button","","color","primary"],["mat-stroked-button","","color","primary",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,i){t&1&&(s(0,"div",0),f(1,"img",1),s(2,"p",2),l(3),o(),s(4,"p",3),l(5),o(),h(6,vt,3,2,"div",4),o()),t&2&&(r(),d("src",i.getFeedbackIcon(),$),r(2),x(i.data.title),r(2),x(i.data.message),r(),E(6,i.data.showButtons?6:-1))},dependencies:[B,N,I],styles:[".feedback-dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px;border-radius:8px;box-shadow:0 4px 10px #0003;width:400px;min-width:280px;height:auto;gap:20px}.feedback-icon[_ngcontent-%COMP%]{width:60px;height:60px}.feedback-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin:0;text-align:center}.feedback-message[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0;text-align:center}.feedback-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;justify-content:center;width:100%}@media (max-width: 500px){.feedback-dialog-container[_ngcontent-%COMP%]{width:300px;padding:16px;gap:10px}.feedback-title[_ngcontent-%COMP%]{font-size:1.2rem}.feedback-message[_ngcontent-%COMP%]{font-size:1rem}.feedback-actions[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.mat-flat-button[_ngcontent-%COMP%], .mat-button[_ngcontent-%COMP%]{width:100%}}"]})}}return n})();var dt=(()=>{class n{constructor(){this._dialog=m(tt)}openFeedbackDialog(e){return this._dialog.open(lt,{data:e,disableClose:!0})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kt(n,p){if(n&1){let e=j();s(0,"div",1)(1,"button",2),C("click",function(){O(e);let i=_();return R(i.action())}),l(2),o()()}if(n&2){let e=_();r(2),b(" ",e.data.action," ")}}var yt=["label"];function Ct(n,p){}var xt=Math.pow(2,31)-1,V=class{constructor(p,e){this._overlayRef=e,this._afterDismissed=new M,this._afterOpened=new M,this._onAction=new M,this._dismissedByAction=!1,this.containerInstance=p,p._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(p){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(p,xt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},G=new H("MatSnackBarData"),P=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},St=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=z({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return n})(),Mt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=z({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return n})(),wt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=z({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return n})(),Dt=(()=>{class n{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(t){return new(t||n)(y(V),y(G))}}static{this.\u0275cmp=v({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[k],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){t&1&&(s(0,"div",0),l(1),o(),h(2,kt,3,1,"div",1)),t&2&&(r(),b(" ",i.data.message,`
`),r(),E(2,i.hasAction?2:-1))},dependencies:[I,St,Mt,wt],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})(),Ft={snackBarState:Ie("state",[X("void, hidden",U({transform:"scale(0.8)",opacity:0})),X("visible",U({transform:"scale(1)",opacity:1})),J("* => visible",K("150ms cubic-bezier(0, 0, 0.2, 1)")),J("* => void, * => hidden",K("75ms cubic-bezier(0.4, 0.0, 1, 1)",U({opacity:0})))])},At=0,Et=(()=>{class n extends Ue{constructor(e,t,i,a,c){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=c,this._document=m(me),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new M,this._onExit=new M,this._onEnter=new M,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${At++}`,this.attachDomPortal=u=>{this._assertNotAttached();let S=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),S},c.politeness==="assertive"&&!c.announcementMessage?this._live="assertive":c.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}onAnimationEnd(e){let{fromState:t,toState:i}=e;if((i==="void"&&t!=="void"||i==="hidden")&&this._completeExit(),i==="visible"){let a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(c=>e.classList.add(c)):e.classList.add(t)),this._exposeToModals();let i=this._label.nativeElement,a="mdc-snackbar__label";i.classList.toggle(a,!i.querySelector(`.${a}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<t.length;i++){let a=t[i],c=a.getAttribute("aria-owns");this._trackedModals.add(a),c?c.indexOf(e)===-1&&a.setAttribute("aria-owns",c+" "+e):a.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let i=t.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(t){return new(t||n)(y(re),y(ae),y(q),y(_e),y(P))}}static{this.\u0275cmp=v({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(t&1&&(Q(ee,7),Q(yt,7)),t&2){let a;W(a=Z())&&(i._portalOutlet=a.first),W(a=Z())&&(i._label=a.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){t&1&&de("@state.done",function(c){return i.onAnimationEnd(c)}),t&2&&le("@state",i._animationState)},standalone:!0,features:[se,k],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){t&1&&(s(0,"div",1)(1,"div",2,0)(3,"div",3),h(4,Ct,0,0,"ng-template",4),o(),f(5,"div"),o()()),t&2&&(r(5),ce("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[ee],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Ft.snackBarState]}})}}return n})();function Bt(){return new P}var It=new H("mat-snack-bar-default-options",{providedIn:"root",factory:Bt}),mt=(()=>{class n{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,t,i,a,c,u){this._overlay=e,this._live=t,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=c,this._defaultConfig=u,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Dt,this.snackBarContainerComponent=Et,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",i){let a=F(F({},this._defaultConfig),i);return a.data={message:e,action:t},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector,a=T.create({parent:i||this._injector,providers:[{provide:P,useValue:t}]}),c=new Y(this.snackBarContainerComponent,t.viewContainerRef,a),u=e.attach(c);return u.instance.snackBarConfig=t,u.instance}_attach(e,t){let i=F(F(F({},new P),this._defaultConfig),t),a=this._createOverlay(i),c=this._attachSnackBarContainer(a,i),u=new V(c,a);if(e instanceof oe){let S=new qe(e,null,{$implicit:i.data,snackBarRef:u});u.instance=c.attachTemplatePortal(S)}else{let S=this._createInjector(i,u),ht=new Y(e,void 0,S),ft=c.attachComponentPortal(ht);u.instance=ft.instance}return this._breakpointObserver.observe(ge.HandsetPortrait).pipe(ne(a.detachments())).subscribe(S=>{a.overlayElement.classList.toggle(this.handsetCssClass,S.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(u,i),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){let t=new Ge;t.direction=e.direction;let i=this._overlay.position().global(),a=e.direction==="rtl",c=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!a||e.horizontalPosition==="end"&&a,u=!c&&e.horizontalPosition!=="center";return c?i.left("0"):u?i.right("0"):i.centerHorizontally(),e.verticalPosition==="top"?i.top("0"):i.bottom("0"),t.positionStrategy=i,this._overlay.create(t)}_createInjector(e,t){let i=e&&e.viewContainerRef&&e.viewContainerRef.injector;return T.create({parent:i||this._injector,providers:[{provide:V,useValue:t},{provide:G,useValue:e.data}]})}static{this.\u0275fac=function(t){return new(t||n)(w(He),w(ve),w(T),w(be),w(n,12),w(It))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pt=(()=>{class n{constructor(){this.data=m(G)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-snackbar"]],standalone:!0,features:[k],decls:5,vars:2,consts:[[1,"snackbar-content"]],template:function(t,i){t&1&&(s(0,"div",0)(1,"mat-icon"),l(2),o(),s(3,"span"),l(4),o()()),t&2&&(r(2),x(i.data.icon),r(2),x(i.data.message))},dependencies:[B,Le,Ne],styles:[".snackbar-content[_ngcontent-%COMP%]{display:flex;vertical-align:middle;gap:20px}.snackbar-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}"]})}}return n})();var ut=(()=>{class n{constructor(){this._snackBar=m(mt)}show({message:e,icon:t="check",duration:i=3e3,horizontalPosition:a="center",verticalPosition:c="bottom"}){let u={message:e,icon:t};this._snackBar.openFromComponent(pt,{data:u,duration:i,horizontalPosition:a,verticalPosition:c})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Pt(n,p){if(n&1&&f(0,"img",18),n&2){let e,t=_();d("src",(e=t.employeeForm.get("imgUrl"))==null?null:e.value,$)}}function Ot(n,p){if(n&1&&(s(0,"mat-option",19),l(1),o()),n&2){let e=p.$implicit;d("value",e.id),r(),b(" ",e.description," ")}}function Rt(n,p){if(n&1&&(s(0,"mat-option",19),l(1),o()),n&2){let e=p.$implicit;d("value",e.id),r(),b(" ",e.description," ")}}function Tt(n,p){if(n&1&&(s(0,"mat-option",19),l(1),o()),n&2){let e=p.$implicit;d("value",e.id),r(),b(" ",e.description," ")}}function jt(n,p){if(n&1&&(s(0,"div",20)(1,"span"),l(2,"Activo"),o(),s(3,"mat-radio-group",21)(4,"span"),l(5,"Si"),o(),f(6,"mat-radio-button",22),s(7,"span"),l(8,"No"),o(),f(9,"mat-radio-button",22),o()()),n&2){let e=_();d("appSkeleton",e.isLoading),r(6),d("value",!0),r(3),d("value",!1)}}var yn=(()=>{class n{constructor(){this.isLoading=!0,this.positions=[],this.countries=[],this.genders=[{id:0,description:"No binario"},{id:1,description:"Masculino"},{id:2,description:"Femenino"}],this._fromComponentPathCalled=null,this._fromComponentNameCalled=null,this._activeRoute=m(he),this._router=m(fe),this._spinnerService=m($e),this._breadcrumbService=m(at),this._alertService=m(Ve),this._employeeService=m(Je),this._positionService=m(it),this._countryService=m(nt),this._feedbackDialogService=m(dt),this._changeDetectorRef=m(q),this._snackbarService=m(ut),this.employeeForm=this._createForm()}ngOnInit(){this._loadRouteData(),this._setBreadcrumb(),this._loadData()}onCancel(){if(this.employeeForm.dirty){this._openFeedbackDialogWarningr();return}this._router.navigate([`/${this._fromComponentPathCalled}`])}onSave(){let e={id:this.employeeForm.value.id,imgUrl:this.employeeForm.value.imgUrl||"",name:this.employeeForm.value.name,surname:this.employeeForm.value.surname,birthDate:this.employeeForm.value.birthDate,genderId:this.employeeForm.value.genderId,countryId:this.employeeForm.value.countryId,positionId:this.employeeForm.value.positionId,active:this.operation==="create"?!0:this.employeeForm.value.active};this.operation==="create"?this._createEmployee(e):this._editEmployee(e)}isReadyToSave(){return this.employeeForm.valid&&this.employeeForm.dirty}_loadRouteData(){this._activeRoute.queryParams.subscribe(e=>{this._fromComponentPathCalled=e.componentPath,this._fromComponentNameCalled=e.componentName}),this.operation=this._activeRoute.snapshot.data.operation,this.title=this.operation==="create"?"Crear nuevo empleado":"Editar empleado"}_createForm(){return new we({id:new g(""),imgUrl:new g(""),name:new g("",D.required),surname:new g("",D.required),birthDate:new g("",D.required),genderId:new g("",D.required),countryId:new g("",D.required),positionId:new g("",D.required),active:new g("")})}_loadData(){te({positions:this._getPositions(),countries:this._getCountries()}).subscribe({next:e=>{if(this.positions=e.positions,this.countries=e.countries,this.operation==="edit"){this.isLoading=!0;let t=this._activeRoute.snapshot.paramMap.get("id");this._getEmployeeById(Number(t)).pipe(ie(500)).subscribe({next:i=>{this.employeeForm.patchValue(i),this.isLoading=!1},error:i=>{this._alertService.showDanger(`Error al cargar los datos del empleado. ${i.statusText}`),this.isLoading=!1,this.employeeForm.disable(),this._changeDetectorRef.markForCheck()}})}else setTimeout(()=>{this.isLoading=!1,this._changeDetectorRef.markForCheck()},500)}})}_getEmployeeById(e){return this._employeeService.getEmployee(e)}_getPositions(){return this._positionService.getPositions()}_getCountries(){return this._countryService.getCountries()}_createEmployee(e){this._spinnerService.show(),this._employeeService.createEmployee(e).subscribe({next:()=>{setTimeout(()=>{this._spinnerService.hide(),this._openFeedbackDialogSuccess()},1500)},error:()=>{this._spinnerService.hide(),this._openFeedbackDialogDanger()}})}_editEmployee(e){this._spinnerService.show(),this._employeeService.updateEmployee(e).subscribe({next:()=>{setTimeout(()=>{this._spinnerService.hide(),this._showSnackbar(),this._router.navigate([`/${this._fromComponentPathCalled}`])},1500)},error:()=>{this._spinnerService.hide(),this._openFeedbackDialogDanger()}})}_openFeedbackDialogSuccess(){let e="creado";this._feedbackDialogService.openFeedbackDialog({type:"success",title:`Empleado ${e} con \xE9xito.`,showButtons:!0,cancelButtonText:e==="creado"?"Cancelar":"Aceptar",acceptButtonText:e==="creado"?"Crear otro":""}).afterClosed().subscribe(i=>{i===!0?this.employeeForm.reset():i===!1&&this._router.navigate([`/${this._fromComponentPathCalled}`])})}_openFeedbackDialogDanger(){let e=this.operation==="create"?"crear":"editar";this._feedbackDialogService.openFeedbackDialog({type:"danger",message:`No se pudo ${e} el empleado.`,showButtons:!0,cancelButtonText:"Cancelar",acceptButtonText:"Volver a intentar"}).afterClosed().subscribe(i=>{i===!1&&this._router.navigate([`/${this._fromComponentPathCalled}`])})}_openFeedbackDialogWarningr(){this._feedbackDialogService.openFeedbackDialog({type:"warning",title:"los cambios se perder\xE1n.",message:" \xBFEsta seguro/a que desea salir?",showButtons:!0,cancelButtonText:"Cancelar",acceptButtonText:"Aceptar"}).afterClosed().subscribe(t=>{t===!0&&this._router.navigate([`/${this._fromComponentPathCalled}`])})}_showSnackbar(){this._snackbarService.show({message:"\xA1Editado con \xE9xito!"})}_setBreadcrumb(){this._breadcrumbService.setBreadcrumbs([{label:"Inicio",path:"/"},{label:`${this._fromComponentNameCalled}`,path:`/${this._fromComponentPathCalled}`},{label:`${this.title}`,path:""}])}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-employee-form"]],standalone:!0,features:[k],decls:40,vars:19,consts:[[1,"components-container"],[1,"form-wrapper"],[1,"employee-form-container"],[3,"formGroup"],[1,"header-with-image",3,"appSkeleton"],["alt","Foto del empleado","class","employee-photo",3,"src",4,"ngIf"],["appearance","outline",3,"appSkeleton"],["matInput","","formControlName","name","appCustomValidationMessage",""],["matInput","","formControlName","surname","appCustomValidationMessage",""],["appCustomValidationMessage","",3,"formControlName","label","placeholder","isDisabled","appSkeleton"],["formControlName","genderId","appCustomValidationMessage",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","countryId","appCustomValidationMessage",""],["formControlName","positionId","appCustomValidationMessage",""],["class","radio-group-container",3,"appSkeleton",4,"ngIf"],[1,"actions-container"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],["alt","Foto del empleado",1,"employee-photo",3,"src"],[3,"value"],[1,"radio-group-container",3,"appSkeleton"],["aria-label","Seleccionar una opci\xF3n","formControlName","active"],[1,"radio-option",3,"value"]],template:function(t,i){t&1&&(s(0,"div",0),f(1,"app-breadcrumb")(2,"app-alert"),o(),s(3,"div",1)(4,"div",2)(5,"form",3)(6,"div",4)(7,"h2"),l(8),o(),h(9,Pt,1,1,"img",5),o(),s(10,"mat-form-field",6)(11,"mat-label"),l(12,"Nombre"),o(),f(13,"input",7),o(),s(14,"mat-form-field",6)(15,"mat-label"),l(16,"Apellido"),o(),f(17,"input",8),o(),f(18,"app-date-input",9),s(19,"mat-form-field",6)(20,"mat-label"),l(21,"G\xE9nero"),o(),s(22,"mat-select",10),h(23,Ot,2,2,"mat-option",11),o()(),s(24,"mat-form-field",6)(25,"mat-label"),l(26,"Pais"),o(),s(27,"mat-select",12),h(28,Rt,2,2,"mat-option",11),o()(),s(29,"mat-form-field",6)(30,"mat-label"),l(31,"Puesto"),o(),s(32,"mat-select",13),h(33,Tt,2,2,"mat-option",11),o()(),h(34,jt,10,3,"div",14),o()(),s(35,"div",15)(36,"button",16),C("click",function(){return i.onCancel()}),l(37,"Cancelar"),o(),s(38,"button",17),C("click",function(){return i.onSave()}),l(39," Guardar "),o()()()),t&2&&(r(5),d("formGroup",i.employeeForm),r(),d("appSkeleton",i.isLoading),r(2),x(i.title),r(),d("ngIf",i.operation==="edit"),r(),d("appSkeleton",i.isLoading),r(4),d("appSkeleton",i.isLoading),r(4),d("formControlName","birthDate")("label","Fecha de nacimiento")("placeholder","Fecha de nacimiento")("isDisabled",!1)("appSkeleton",i.isLoading),r(),d("appSkeleton",i.isLoading),r(4),d("ngForOf",i.genders),r(),d("appSkeleton",i.isLoading),r(4),d("ngForOf",i.countries),r(),d("appSkeleton",i.isLoading),r(4),d("ngForOf",i.positions),r(),d("ngIf",i.operation==="edit"),r(4),d("disabled",!i.isReadyToSave()))},dependencies:[B,pe,ue,Ee,De,xe,Se,Me,Be,Fe,Ae,Re,Oe,Pe,je,Te,N,I,Xe,Ze,ke,We,Qe,ye,ot,ze,ct,rt,st,Ce,Ke],styles:[".components-container[_ngcontent-%COMP%]{margin-top:20px}.form-wrapper[_ngcontent-%COMP%]{margin:20px auto;max-width:400px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a}.employee-form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:20px}.radio-group-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:center;gap:20px}.header-with-image[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.employee-photo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.header-with-image[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.skeleton-loading[_ngcontent-%COMP%]{margin-bottom:20px!important}mat-form-field.skeleton-loading[_ngcontent-%COMP%]{margin-bottom:20px!important}.radio-group-container.skeleton-loading[_ngcontent-%COMP%]{display:block;margin-bottom:20px!important}",'.skeleton-loading[_ngcontent-%COMP%]{color:transparent!important;background-color:transparent!important;border-color:transparent!important;position:relative;overflow:hidden;pointer-events:none;min-height:1em}.skeleton-loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}mat-form-field.skeleton-loading[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}button.skeleton-loading[_ngcontent-%COMP%]{background-color:#f0f0f0!important;color:transparent!important;box-shadow:none!important;position:relative;overflow:hidden}button.skeleton-loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;z-index:10;background:linear-gradient(90deg,#eee 25%,#ddd,#eee 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}'],changeDetection:0})}}return n})();export{yn as EmployeeFormComponent};
