import{a as _}from"./chunk-KLL7LZJF.js";import{a as U}from"./chunk-EJTDO335.js";import{a as V}from"./chunk-Q6UAVVOY.js";import{B as G,C as I,b as x,g as C,h as w,i as R,k as p,l as b,n as L,q as N,s as O,t as y,u as D,y as P,z as A}from"./chunk-BMLLSFUZ.js";import{j as E,na as F,pa as S}from"./chunk-FRIGIZR4.js";import{Bb as o,Cb as e,D as c,Db as a,Jc as M,Kb as h,L as d,Vb as r,Xa as f,ac as v,ea as n,ka as u,n as s,pb as g}from"./chunk-Y3ZRIA3V.js";var re=(()=>{class i{constructor(){this.isLoading=!1,this._authService=n(_),this._router=n(E),this._spinnerService=n(V),this.loginForm=this._createForm()}onLogin(){if(this.loginForm.invalid)return;this._spinnerService.show();let m=this.loginForm.value;this._authService.login(m).pipe(c(t=>(console.error("Login fallido:",t),s)),d(()=>{this._spinnerService.hide()})).subscribe({next:t=>{console.log("Login exitoso. Usuario:",t.username),this._router.navigate(["/home"])},error:()=>{console.log("ERROR DE LOGIN")}})}_createForm(){return new R({username:new p("adminUser"),password:new p("hashed_password")})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-login-form"]],standalone:!0,features:[v],decls:20,vars:1,consts:[[1,"components-container"],[1,"form-wrapper"],[1,"login-form-container"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","username","appRequiredValidation","","readonly","true"],["matInput","","type","password","formControlName","password","appRequiredValidation","","readonly","true"],[1,"actions-container"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,l){t&1&&(o(0,"div",0),a(1,"app-alert"),e(),o(2,"div",1)(3,"div",2)(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),r(7,"Usuario"),e(),a(8,"input",5),e(),o(9,"mat-form-field",4)(10,"mat-label"),r(11,"Password"),e(),a(12,"input",6),e()()(),o(13,"p"),r(14,"AL INGRESAR EL SERVIDOR PUEDE TARDAR UNOS SEGUNDOS EN LEVANTAR..."),e(),o(15,"p"),r(16," El servidor de pruebas/gratuito se apaga autom\xE1ticamente por inactividad para optimizar recursos. Debido a esto, vuelva a iniciar sesi\xF3n. "),e(),o(17,"div",7)(18,"button",8),h("click",function(){return l.onLogin()}),r(19," Ingresar "),e()()()),t&2&&(f(4),g("formGroup",l.loginForm))},dependencies:[M,O,b,x,C,w,y,L,N,A,P,D,I,G,S,F,U],styles:[".components-container[_ngcontent-%COMP%]{margin-top:20px}.form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:100px auto;max-width:400px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a;height:350px;letter-spacing:2px}.form-wrapper[_ngcontent-%COMP%]   .login-form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-wrapper[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{margin-top:auto}"]})}}return i})();export{re as LoginFormComponent};
