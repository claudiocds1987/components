import{a as C}from"./chunk-I37C6KMT.js";import{B as U,b as x,g as E,h as w,i as R,k as l,l as L,n as N,o as O,p as b,q as y,r as P,v as A,w as D,y as G,z as I}from"./chunk-6LXHM6KC.js";import{j as v,na as F,pa as S,sa as V}from"./chunk-UK7LF3J5.js";import{Ab as o,Bb as a,C as c,Hc as _,Ib as h,K as d,Tb as r,Wa as f,_b as M,da as i,ja as u,m as s,ob as g,zb as t}from"./chunk-AH7QKKW6.js";var re=(()=>{class n{constructor(){this.isLoading=!1,this._authService=i(C),this._router=i(v),this._spinnerService=i(V),this.loginForm=this._createForm()}onLogin(){if(this.loginForm.invalid)return;this._spinnerService.show();let m=this.loginForm.value;this._authService.login(m).pipe(c(e=>(console.error("Login fallido:",e),s)),d(()=>{this._spinnerService.hide()})).subscribe({next:e=>{console.log("Login exitoso. Usuario:",e.username),this._router.navigate(["/home"])},error:()=>{console.log("ERROR DE LOGIN")}})}_createForm(){return new R({username:new l("adminUser"),password:new l("hashed_password")})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=u({type:n,selectors:[["app-login-form"]],standalone:!0,features:[M],decls:18,vars:1,consts:[[1,"components-container"],[1,"form-wrapper"],[1,"login-form-container"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","username","appRequiredValidation","","readonly","true"],["matInput","","type","password","formControlName","password","appRequiredValidation","","readonly","true"],[1,"actions-container"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,p){e&1&&(t(0,"div",0),a(1,"app-alert"),o(),t(2,"div",1)(3,"div",2)(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),r(7,"Usuario"),o(),a(8,"input",5),o(),t(9,"mat-form-field",4)(10,"mat-label"),r(11,"Password"),o(),a(12,"input",6),o()()(),t(13,"p"),r(14,"AL INGRESAR EL SERVIDOR PUEDE TARDAR UNOS SEGUNDOS EN LEVANTAR..."),o(),t(15,"div",7)(16,"button",8),h("click",function(){return p.onLogin()}),r(17," Ingresar "),o()()()),e&2&&(f(4),g("formGroup",p.loginForm))},dependencies:[_,b,L,x,E,w,y,N,O,D,A,P,I,G,S,F,U],styles:[".components-container[_ngcontent-%COMP%]{margin-top:20px}.form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px auto;max-width:400px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a;height:500px}.form-wrapper[_ngcontent-%COMP%]   .login-form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-wrapper[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{margin-top:auto}"]})}}return n})();export{re as LoginFormComponent};
