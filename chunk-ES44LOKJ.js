import{a as x}from"./chunk-KLL7LZJF.js";import{a as U}from"./chunk-EJTDO335.js";import{a as V}from"./chunk-Q6UAVVOY.js";import{B as G,C as I,b as C,g as E,h as w,i as R,k as p,l as L,n as N,q as O,s as b,t as y,u as P,y as A,z as D}from"./chunk-BMLLSFUZ.js";import{j as v,na as F,pa as S}from"./chunk-FRIGIZR4.js";import{Bb as t,Cb as o,D as c,Db as a,Jc as _,Kb as h,L as d,Vb as r,Xa as f,ac as M,ea as i,ka as u,n as s,pb as g}from"./chunk-Y3ZRIA3V.js";var re=(()=>{class n{constructor(){this.isLoading=!1,this._authService=i(x),this._router=i(v),this._spinnerService=i(V),this.loginForm=this._createForm()}onLogin(){if(this.loginForm.invalid)return;this._spinnerService.show();let m=this.loginForm.value;this._authService.login(m).pipe(c(e=>(console.error("Login fallido:",e),s)),d(()=>{this._spinnerService.hide()})).subscribe({next:e=>{console.log("Login exitoso. Usuario:",e.username),this._router.navigate(["/home"])},error:()=>{console.log("ERROR DE LOGIN")}})}_createForm(){return new R({username:new p("adminUser"),password:new p("hashed_password")})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=u({type:n,selectors:[["app-login-form"]],standalone:!0,features:[M],decls:18,vars:1,consts:[[1,"components-container"],[1,"form-wrapper"],[1,"login-form-container"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","username","appRequiredValidation","","readonly","true"],["matInput","","type","password","formControlName","password","appRequiredValidation","","readonly","true"],[1,"actions-container"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,l){e&1&&(t(0,"div",0),a(1,"app-alert"),o(),t(2,"div",1)(3,"div",2)(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),r(7,"Usuario"),o(),a(8,"input",5),o(),t(9,"mat-form-field",4)(10,"mat-label"),r(11,"Password"),o(),a(12,"input",6),o()()(),t(13,"p"),r(14,"AL INGRESAR EL SERVIDOR PUEDE TARDAR UNOS SEGUNDOS EN LEVANTAR..."),o(),t(15,"div",7)(16,"button",8),h("click",function(){return l.onLogin()}),r(17," Ingresar "),o()()()),e&2&&(f(4),g("formGroup",l.loginForm))},dependencies:[_,b,L,C,E,w,y,N,O,D,A,P,I,G,S,F,U],styles:[".components-container[_ngcontent-%COMP%]{margin-top:20px}.form-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:100px auto;max-width:400px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a;height:300px;letter-spacing:2px}.form-wrapper[_ngcontent-%COMP%]   .login-form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-wrapper[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{margin-top:auto}"]})}}return n})();export{re as LoginFormComponent};
